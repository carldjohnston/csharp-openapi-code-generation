/*
 * CDR Admin API
 *
 * Data Holder Consumer Data Standards Administration End Points created by the Data Standards Body (DSB), with the Data Standards Chair as the decision maker
 *
 * The version of the OpenAPI document: 1.15.0
 * Contact: contact@consumerdatastandards.gov.au
 * Generated by: https://openapi-generator.tech
 */

using System;
using System.Collections.Generic;
using System.ComponentModel.DataAnnotations;
using Microsoft.AspNetCore.Authorization;
using Microsoft.AspNetCore.Mvc;
using Microsoft.AspNetCore.Http;
using Swashbuckle.AspNetCore.Annotations;
using Swashbuckle.AspNetCore.SwaggerGen;
using Newtonsoft.Json;
using Agl.Cdr.Admin.Attributes;
using Agl.Cdr.Admin.Models;

namespace Agl.Cdr.Admin.Controllers
{ 
    /// <summary>
    /// 
    /// </summary>
    [ApiController]
    public class AdminApiController : ControllerBase
    { 
        /// <summary>
        /// Get Metrics
        /// </summary>
        /// <remarks>This end point allows the ACCC to obtain operational statistics from the Data Holder on the operation of their CDR compliant implementation. The statistics obtainable from this end point are determined by the non-functional requirements for the CDR regime.  NOTE: This version must be implemented by **October 1st 2022**  Obsolete versions: [v1](includes/obsolete/get-metrics-v1.html) [v2](includes/obsolete/get-metrics-v2.html).  If the Data Holder supports private_key_jwt client authentication they MUST validate the scope.</remarks>
        /// <param name="xV">Version of the API end point requested by the client. Must be set to a positive integer. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If the value of [x-min-v](#request-headers) is equal to or higher than the value of [x-v](#request-headers) then the [x-min-v](#request-headers) header should be treated as absent. If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable. See [HTTP Headers](#request-headers)</param>
        /// <param name="period">The period of metrics to be requested. Values can be CURRENT (meaning metrics for current day), HISTORIC (meaning metrics for previous days or months) or ALL. If absent the default is ALL.</param>
        /// <param name="xMinV">Minimum version of the API end point requested by the client. Must be set to a positive integer if provided. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable.</param>
        /// <response code="200">Success</response>
        /// <response code="0">The following error codes MUST be supported:&lt;br/&gt;&lt;ul class&#x3D;\&quot;error-code-list\&quot;&gt;&lt;li&gt;[400 - Invalid Field](#error-400-field-invalid)&lt;/li&gt;&lt;li&gt;[400 - Invalid Version](#error-400-header-invalid-version)&lt;/li&gt;&lt;li&gt;[406 - Unsupported Version](#error-406-header-unsupported-version)&lt;/li&gt;&lt;/ul&gt;</response>
        [HttpGet]
        [Route("/cds-au/v1/admin/metrics")]
        [ValidateModelState]
        [SwaggerOperation("GetMetrics")]
        [SwaggerResponse(statusCode: 200, type: typeof(ResponseMetricsListV3), description: "Success")]
        [SwaggerResponse(statusCode: 0, type: typeof(ResponseErrorListV2), description: "The following error codes MUST be supported:&lt;br/&gt;&lt;ul class&#x3D;\&quot;error-code-list\&quot;&gt;&lt;li&gt;[400 - Invalid Field](#error-400-field-invalid)&lt;/li&gt;&lt;li&gt;[400 - Invalid Version](#error-400-header-invalid-version)&lt;/li&gt;&lt;li&gt;[406 - Unsupported Version](#error-406-header-unsupported-version)&lt;/li&gt;&lt;/ul&gt;")]
        public virtual IActionResult GetMetrics([FromHeader][Required()]string xV, [FromQuery (Name = "period")]string period, [FromHeader]string xMinV)
        {

            //TODO: Uncomment the next line to return response 200 or use other options such as return this.NotFound(), return this.BadRequest(..), ...
            // return StatusCode(200, default(ResponseMetricsListV3));
            //TODO: Uncomment the next line to return response 0 or use other options such as return this.NotFound(), return this.BadRequest(..), ...
            // return StatusCode(0, default(ResponseErrorListV2));
            string exampleJson = null;
            exampleJson = "{\n  \"data\" : {\n    \"rejections\" : {\n      \"authenticated\" : {\n        \"previousDays\" : [ 4.652396432933246, 4.652396432933246 ],\n        \"currentDay\" : 0.10263654006109402\n      },\n      \"unauthenticated\" : {\n        \"previousDays\" : [ 7.740351818741173, 7.740351818741173 ],\n        \"currentDay\" : 8.969578798196912\n      }\n    },\n    \"peakTps\" : {\n      \"previousDays\" : [ 0.8851374739011653, 0.8851374739011653 ],\n      \"currentDay\" : 7.143538047012306\n    },\n    \"averageTps\" : {\n      \"previousDays\" : [ 3.0937452626664474, 3.0937452626664474 ],\n      \"currentDay\" : 3.353193347011243\n    },\n    \"secondaryHolder\" : {\n      \"rejections\" : {\n        \"previousDays\" : [ 4.078845849666752, 4.078845849666752 ],\n        \"currentDay\" : 3.2588565619047607\n      },\n      \"errors\" : {\n        \"previousDays\" : [ 5.533258397034986, 5.533258397034986 ],\n        \"currentDay\" : 7.04836565559697\n      }\n    },\n    \"availability\" : {\n      \"previousMonths\" : [ 6.027456183070403, 6.027456183070403 ],\n      \"currentMonth\" : 0.8008281904610115\n    },\n    \"averageResponse\" : {\n      \"unattended\" : {\n        \"previousDays\" : [ 6.438423552598547, 6.438423552598547 ],\n        \"currentDay\" : 9.018348186070783\n      },\n      \"secondary\" : {\n        \"secondary\" : {\n          \"previousDays\" : [ 6.878052220127876, 6.878052220127876 ],\n          \"currentDay\" : 6.778324963048013\n        },\n        \"primary\" : {\n          \"previousDays\" : [ 2.8841621266687802, 2.8841621266687802 ],\n          \"currentDay\" : 1.284659006116532\n        }\n      },\n      \"highPriority\" : {\n        \"previousDays\" : [ 9.369310271410669, 9.369310271410669 ],\n        \"currentDay\" : 9.965781217890562\n      },\n      \"largePayload\" : {\n        \"previousDays\" : [ 6.965117697638846, 6.965117697638846 ],\n        \"currentDay\" : 3.5571952270680973\n      },\n      \"unauthenticated\" : {\n        \"previousDays\" : [ 5.025004791520295, 5.025004791520295 ],\n        \"currentDay\" : 4.965218492984954\n      },\n      \"lowPriority\" : {\n        \"previousDays\" : [ 8.762042012749001, 8.762042012749001 ],\n        \"currentDay\" : 6.683562403749608\n      },\n      \"largeSecondary\" : {\n        \"secondary\" : {\n          \"previousDays\" : [ 6.878052220127876, 6.878052220127876 ],\n          \"currentDay\" : 6.778324963048013\n        },\n        \"primary\" : {\n          \"previousDays\" : [ 2.8841621266687802, 2.8841621266687802 ],\n          \"currentDay\" : 1.284659006116532\n        }\n      }\n    },\n    \"invocations\" : {\n      \"unattended\" : {\n        \"previousDays\" : [ 7.386281948385884, 7.386281948385884 ],\n        \"currentDay\" : 4.145608029883936\n      },\n      \"secondary\" : {\n        \"previousDays\" : [ 6.84685269835264, 6.84685269835264 ],\n        \"currentDay\" : 1.4894159098541704\n      },\n      \"highPriority\" : {\n        \"previousDays\" : [ 9.301444243932576, 9.301444243932576 ],\n        \"currentDay\" : 7.061401241503109\n      },\n      \"largePayload\" : {\n        \"previousDays\" : [ 1.0246457001441578, 1.0246457001441578 ],\n        \"currentDay\" : 1.2315135367772556\n      },\n      \"unauthenticated\" : {\n        \"previousDays\" : [ 2.3021358869347655, 2.3021358869347655 ],\n        \"currentDay\" : 5.637376656633329\n      },\n      \"lowPriority\" : {\n        \"previousDays\" : [ 2.027123023002322, 2.027123023002322 ],\n        \"currentDay\" : 3.616076749251911\n      },\n      \"largeSecondary\" : {\n        \"previousDays\" : [ 1.1730742509559433, 1.1730742509559433 ],\n        \"currentDay\" : 7.457744773683766\n      }\n    },\n    \"requestTime\" : \"requestTime\",\n    \"performance\" : {\n      \"previousDays\" : [ 5.962133916683182, 5.962133916683182 ],\n      \"currentDay\" : 1.4658129805029452\n    },\n    \"sessionCount\" : {\n      \"previousDays\" : [ 6.704019297950036, 6.704019297950036 ],\n      \"currentDay\" : 5.944895607614016\n    },\n    \"recipientCount\" : 3,\n    \"errors\" : {\n      \"previousDays\" : [ 6.519180951018382, 6.519180951018382 ],\n      \"currentDay\" : 7.058770351582356\n    },\n    \"customerCount\" : 3\n  },\n  \"meta\" : \"{}\",\n  \"links\" : {\n    \"self\" : \"self\"\n  }\n}";
            
            var example = exampleJson != null
            ? JsonConvert.DeserializeObject<ResponseMetricsListV3>(exampleJson)
            : default(ResponseMetricsListV3);
            //TODO: Change the data returned
            return new ObjectResult(example);
        }

        /// <summary>
        /// Metadata Update
        /// </summary>
        /// <remarks>Indicate that a critical update to the metadata for Accredited Data Recipients has been made and should be obtained</remarks>
        /// <param name="xV">Version of the API end point requested by the client. Must be set to a positive integer. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If the value of [x-min-v](#request-headers) is equal to or higher than the value of [x-v](#request-headers) then the [x-min-v](#request-headers) header should be treated as absent. If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable. See [HTTP Headers](#request-headers)</param>
        /// <param name="action"></param>
        /// <param name="xMinV">Minimum version of the API end point requested by the client. Must be set to a positive integer if provided. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable.</param>
        /// <response code="200">Success</response>
        /// <response code="0">The following error codes MUST be supported:&lt;br/&gt;&lt;ul class&#x3D;\&quot;error-code-list\&quot;&gt;&lt;li&gt;[400 - Invalid Field](#error-400-field-invalid)&lt;/li&gt;&lt;li&gt;[400 - Invalid Version](#error-400-header-invalid-version)&lt;/li&gt;&lt;li&gt;[406 - Unsupported Version](#error-406-header-unsupported-version)&lt;/li&gt;&lt;/ul&gt;</response>
        [HttpPost]
        [Route("/cds-au/v1/admin/register/metadata")]
        [Consumes("application/json")]
        [ValidateModelState]
        [SwaggerOperation("MetadataUpdate")]
        [SwaggerResponse(statusCode: 0, type: typeof(ResponseErrorListV2), description: "The following error codes MUST be supported:&lt;br/&gt;&lt;ul class&#x3D;\&quot;error-code-list\&quot;&gt;&lt;li&gt;[400 - Invalid Field](#error-400-field-invalid)&lt;/li&gt;&lt;li&gt;[400 - Invalid Version](#error-400-header-invalid-version)&lt;/li&gt;&lt;li&gt;[406 - Unsupported Version](#error-406-header-unsupported-version)&lt;/li&gt;&lt;/ul&gt;")]
        public virtual IActionResult MetadataUpdate([FromHeader][Required()]string xV, [FromBody]RequestMetaDataUpdate action, [FromHeader]string xMinV)
        {

            //TODO: Uncomment the next line to return response 200 or use other options such as return this.NotFound(), return this.BadRequest(..), ...
            // return StatusCode(200);
            //TODO: Uncomment the next line to return response 0 or use other options such as return this.NotFound(), return this.BadRequest(..), ...
            // return StatusCode(0, default(ResponseErrorListV2));

            throw new NotImplementedException();
        }
    }
}
